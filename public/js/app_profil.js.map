{"version":3,"file":"app_profil.js","mappings":"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","sources":["webpack://fisheye/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://fisheye/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://fisheye/./scripts/class/modal.js","webpack://fisheye/./scripts/profil.js"],"sourcesContent":["export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default class Modal {\r\n  /**\r\n   * @param {HTMLElement} node \r\n   * @param {String} ariaSelector \r\n   */\r\n  constructor (node, closeNode = null, ariaSelector = 'button, a, input, textarea, [role=\"button\"]') {\r\n    this._node = node\r\n    this._closeNode = closeNode \r\n    this._ariaSelector = ariaSelector\r\n    this._previousFocus = null\r\n    this._modalDisplay = null\r\n    this._ariaElements = []\r\n\r\n    // Bind des fonctions pour garder le context this\r\n    this._stopPropagation = this._stopPropagation.bind(this)\r\n    this._ariaModal = this._ariaModal.bind(this)\r\n    this._closeModal = this.closeModal.bind(this)\r\n    this._displayModal = this.displayModal.bind(this)\r\n\r\n    // Cache l'element modal par default\r\n    this._node.style.display = \"none\"\r\n\r\n    // Si la modal a un bouton de fermture on ajoute l'evenement\r\n    if (closeNode) {\r\n      closeNode.addEventListener('click', this._closeModal)\r\n    }\r\n  }\r\n\r\n  getElement() {\r\n    return this._node\r\n  }\r\n\r\n  getPreviousFocus() {\r\n    return this._previousFocus\r\n  }\r\n\r\n  /**\r\n   * Affiche la boite modal\r\n   */\r\n  displayModal () {\r\n    // Initialise l'Element HTML\r\n    this._node.style.display = null\r\n    this._node.removeAttribute('aria-hidden')\r\n    this._node.setAttribute('aria-modal', true)\r\n\r\n    // Memorise le precedent element focus\r\n    this._previousFocus = document.querySelector(':focus')\r\n\r\n    // Recupération de tous les elements qui intéragissent avec tab (focus)\r\n    this._ariaElements = Array.from(this._node.querySelectorAll(this._ariaSelector))\r\n\r\n    // Ferme la modal si on click sur son arriere plan\r\n    this._node.addEventListener('click', this._closeModal)\r\n\r\n    // Stop la propagation des evenement si on click sur la modal\r\n    this._node.querySelector('[data-stop-propagation]').addEventListener('click', this._stopPropagation)\r\n\r\n    // Ecoute les evenement au clavier pour fermer la modal\r\n    window.addEventListener('keydown', this._ariaModal)\r\n\r\n    this._modalDisplay = true\r\n  }\r\n\r\n  /**\r\n   * Ferme la boite modal\r\n   */\r\n  closeModal () {\r\n    // Focus sur l'element avant l'ouverture de la modal\r\n    if(this._previousFocus !== null) this._previousFocus.focus()\r\n\r\n    // Change les attributs aria et style\r\n    this._node.style.display = \"none\"\r\n    this._node.setAttribute('aria-hidden', true) \r\n    this._node.removeAttribute('aria-modal')\r\n\r\n    // Suppression des listeners present lors de l'ouverture de la modal\r\n    this._node.removeEventListener('click', this._closeModal)\r\n    this._node.querySelector('[data-stop-propagation]').removeEventListener('click', this._stopPropagation)\r\n    window.removeEventListener('keydown', this._ariaModal)\r\n\r\n    this._modalDisplay = false\r\n  }\r\n\r\n  /**\r\n   * Stop la propagation des evenements\r\n   * @param {Event} e \r\n   */\r\n  _stopPropagation (e) {\r\n    e.stopPropagation()\r\n  }\r\n\r\n  /**\r\n   * Rendre la model accessible & Control aria tab\r\n   * @param {*} e \r\n   */\r\n  _ariaModal(e) {\r\n    e.preventDefault()\r\n\r\n    // Si on appuie sur echap on ferme la modal\r\n    if (e.key === 'Escape' || e.key === 'Esc') {\r\n      this._closeModal()\r\n    }\r\n    // Si l'element focus est le bouton close et que la touche est enter on ferme la modal\r\n    if ( this._node.querySelector(':focus') === this._closeNode && e.key === 'Enter' ) {\r\n      this._closeModal()\r\n    }\r\n\r\n    if (e.key === 'Tab' && this._node !== null) {\r\n      this._focusInModal(e)\r\n    }\r\n  }\r\n\r\n  _focusInModal (e) {\r\n    e.preventDefault()\r\n    \r\n    // Recupere l'element qui est focus dans la modal\r\n    let index = this._ariaElements.findIndex(elmnt => elmnt === this._node.querySelector(':focus'))\r\n    \r\n    // Incerment ou Decrement ( TAB || Shift+TAB )\r\n    if(e.shiftKey === true) {\r\n      index--\r\n    } else {\r\n      index++\r\n    }\r\n    // Lors du Tab il passe a l'index suivant\r\n    if(index >= this._ariaElements.length) {\r\n      index = 0\r\n    }\r\n    if(index < 0) {\r\n      index = this._ariaElements.length -1\r\n    }\r\n\r\n    this._ariaElements[index].focus()\r\n  }\r\n}","import \"../scss/style_profil.scss\"\r\n\r\nimport Modal from './class/modal'\r\n\r\nconst modalContact = document.querySelector('#contact-modal')\r\nconst btnModalContactOpen = document.querySelector('[aria-controls=\"contact-modal\"]')\r\nconst btnModalContactClose = document.querySelector('[data-dismiss=\"contact-modal\"]')\r\n\r\nconst modal = new Modal(modalContact, btnModalContactClose)\r\n\r\n\r\n\r\nbtnModalContactOpen.addEventListener('click', () => {\r\n  modal.displayModal()\r\n})"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Modal","node","closeNode","ariaSelector","this","_node","_closeNode","_ariaSelector","_previousFocus","_modalDisplay","_ariaElements","_stopPropagation","bind","_ariaModal","_closeModal","closeModal","_displayModal","displayModal","style","display","addEventListener","protoProps","staticProps","removeAttribute","setAttribute","document","querySelector","Array","from","querySelectorAll","window","focus","removeEventListener","e","stopPropagation","preventDefault","_focusInModal","index","findIndex","elmnt","shiftKey","prototype","modalContact","btnModalContactOpen","modal"],"sourceRoot":""}